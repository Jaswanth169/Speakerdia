option_settings:
  aws:elasticbeanstalk:container:python:
    WSGIPath: application:application
  
  aws:elasticbeanstalk:application:environment:
    AZURE_OPENAI_API_KEY: "0ed74a85c6fb49bd8bf653a4464b3aef"
    AZURE_OPENAI_ENDPOINT: "https://texttranslate.openai.azure.com/"
    SPEECH_KEY: "8adbc2b360ed4ab08473cbca8665dee6"
    SPEECH_REGION: "eastus"

files:
  "/etc/nginx/conf.d/types_hash.conf":
    mode: "000644"
    owner: root
    group: root
    content: |
      types_hash_max_size 4096;
      types_hash_bucket_size 128;

  "/etc/nginx/conf.d/proxy.conf":
    mode: "000644"
    owner: root
    group: root
    content: |
      client_max_body_size 90M; # or any size you need

container_commands:
  01_restart_nginx:
    command: "service nginx reload"
